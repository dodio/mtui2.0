{"version":3,"sources":["../../dev/mtui/input/Input.jsx"],"names":["Input","props","state","value","e","onChange","defaultValue","undefined","setState","target","nextProps","nextState","size","prefix","block","suffix","onPressEnter","className","validateInfo","disabled","other","cName","push","obj","style","display","join","bind","defaultProps","type"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;;;IAEMA,K;;;AAWF;AACA,mBAAaC,KAAb,EAAoB;AAAA;;AAAA,wIACVA,KADU;;AAEhB,cAAKC,KAAL,GAAa;AACTC,mBAAO;AADE,SAAb;AAFgB;AAKnB;;;;iCAEQC,C,EAAE;;AAEP,gBAAG,KAAKH,KAAL,CAAWI,QAAd,EAAuB;AACnB,qBAAKJ,KAAL,CAAWI,QAAX,CAAoBD,CAApB;AACH;;AAED,gBAAG,KAAKH,KAAL,CAAWK,YAAX,KAA4BC,SAA/B,EAAyC;AACrC,qBAAKC,QAAL,CAAc;AACVL,2BAAOC,EAAEK,MAAF,CAASN;AADN,iBAAd;AAGH;AACJ;;AAED;;;;mCACU;AACN,mBAAO,KAAKD,KAAL,CAAWC,KAAlB;AACH;;;4CAEmBO,S,EAAWC,S,EAAW;AACtC,gBAAGD,UAAUP,KAAV,KAAoB,KAAKF,KAAL,CAAWE,KAAlC,EAAwC;AACpC,qBAAKK,QAAL,CAAc;AACVL,2BAAOO,UAAUP;AADP,iBAAd;AAGH;AACJ;;;6CAEoB;;AAEjB;AACA,gBAAG,KAAKF,KAAL,CAAWK,YAAX,KAA4BC,SAA/B,EAAyC;AACrC,qBAAKC,QAAL,CAAc;AACVL,2BAAO,KAAKF,KAAL,CAAWK;AADR,iBAAd;AAGH;;AAED;AACA,gBAAG,KAAKL,KAAL,CAAWE,KAAd,EAAoB;AAChB,qBAAKK,QAAL,CAAc;AACVL,2BAAO,KAAKF,KAAL,CAAWE;AADR,iBAAd;AAGH;AACJ;;;iCAEO;AAAA,yBAC4H,KAAKF,KADjI;AAAA,gBACGW,IADH,UACGA,IADH;AAAA,gBACSC,MADT,UACSA,MADT;AAAA,gBACiBC,KADjB,UACiBA,KADjB;AAAA,gBACwBC,MADxB,UACwBA,MADxB;AAAA,gBACgCC,YADhC,UACgCA,YADhC;AAAA,gBAC8CC,SAD9C,UAC8CA,SAD9C;AAAA,gBACyDC,YADzD,UACyDA,YADzD;AAAA,gBACuEb,QADvE,UACuEA,QADvE;AAAA,gBACiFC,YADjF,UACiFA,YADjF;AAAA,gBAC+FH,KAD/F,UAC+FA,KAD/F;AAAA,gBACsGgB,QADtG,UACsGA,QADtG;AAAA,gBACmHC,KADnH;;;AAGJ,gBAAIC,QAAQ,CAAC,UAAD,CAAZ;AACA,gBAAGJ,SAAH,EAAa;AACTI,sBAAMC,IAAN,CAAWL,SAAX;AACH;AACD,gBAAGL,IAAH,EAAQ;AACJS,sBAAMC,IAAN,CAAW,eAAgB,CAACV,IAAD,GAAQ,IAAR,GAAeA,IAA/B,CAAX;AACH;AACD,gBAAGC,MAAH,EAAU;AACNQ,sBAAMC,IAAN,CAAW,qBAAX;AACH;AACD,gBAAGP,MAAH,EAAU;AACNM,sBAAMC,IAAN,CAAW,qBAAX;AACH;AACD,gBAAGH,QAAH,EAAY;AACRE,sBAAMC,IAAN,CAAW,mBAAX;AACH;;AAED,gBAAIC,MAAM,EAAV;AACA,gBAAGpB,UAAUI,SAAb,EAAuB;AACnBgB,oBAAIpB,KAAJ,GAAYA,KAAZ;AACH;AACD,gBAAGG,iBAAiBC,SAApB,EAA8B;AAC1BgB,oBAAIjB,YAAJ,GAAmBA,YAAnB;AACH;;AAED,gBAAIkB,QAAQ,EAAZ;AACA,gBAAGV,KAAH,EAAS;AACLU,wBAAQ;AACJC,6BAAS;AADL,iBAAR;AAGH;;AAED,mBACI;AAAA;AAAA,kBAAM,OAAOD,KAAb,EAAoB,WAAWH,MAAMK,IAAN,CAAW,GAAX,CAA/B;AACKb,yBAAS;AAAA;AAAA,sBAAM,WAAU,iBAAhB;AAAmCA;AAAnC,iBAAT,GAA6D,IADlE;AAEI,gFAAO,UAAUM,QAAjB,IAA+BI,GAA/B,EAAwCH,KAAxC,IAA+C,UAAU,KAAKf,QAAL,CAAcsB,IAAd,CAAmB,IAAnB,CAAzD,IAFJ;AAGKZ,yBAAS;AAAA;AAAA,sBAAM,WAAU,iBAAhB;AAAmCA;AAAnC,iBAAT,GAA6D,IAHlE;AAIKG;AAJL,aADJ;AAQH;;;;;AAGL;;;AA5GMlB,K,CACK4B,Y,GAAe;AAClBhB,UAAM,IADY,EACN;AACZiB,UAAM,MAFY;AAGlBf,WAAO,KAHW;AAIlBD,YAAQ,IAJU,EAIJ;AACdE,YAAQ,IALU,EAKJ;AACdC,kBAAc,IANI,EAME;AACpBE,kBAAc,IAPI,CAOC;AAPD,C;eA4GXlB,K;;;;;;;;;kCA7GTA,K","file":"Input.js","sourcesContent":["'use strict';\r\nimport React, { Component } from 'react';\r\n\r\nclass Input extends Component {\r\n    static defaultProps = {\r\n        size: 'nm', // lg , nm, sm, xs 大 ，正常，小，超小\r\n        type: 'text',\r\n        block: false,\r\n        prefix: null, // 前面的图标\r\n        suffix: null, // 后面的图标\r\n        onPressEnter: null, // 回车的回调\r\n        validateInfo: null // 表单验证提示\r\n    }\r\n\r\n    // 构造函数\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            value: ''\r\n        };\r\n    }\r\n\r\n    onChange(e){\r\n\r\n        if(this.props.onChange){\r\n            this.props.onChange(e);\r\n        }\r\n\r\n        if(this.props.defaultValue !== undefined){\r\n            this.setState({\r\n                value: e.target.value\r\n            });\r\n        }\r\n    }\r\n\r\n    // 获取值\r\n    getValue(){\r\n        return this.state.value;\r\n    }\r\n\r\n    componentWillUpdate(nextProps, nextState) {\r\n        if(nextProps.value !== this.props.value){\r\n            this.setState({\r\n                value: nextProps.value\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n\r\n        // 不受控\r\n        if(this.props.defaultValue !== undefined){\r\n            this.setState({\r\n                value: this.props.defaultValue\r\n            });\r\n        }\r\n\r\n        // 受控\r\n        if(this.props.value){\r\n            this.setState({\r\n                value: this.props.value\r\n            });\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {size, prefix, block, suffix, onPressEnter, className, validateInfo, onChange, defaultValue, value, disabled, ...other} = this.props;\r\n\r\n        let cName = ['mt-input'];\r\n        if(className){\r\n            cName.push(className);\r\n        }\r\n        if(size){\r\n            cName.push('mt-input-' + ( !size ? 'nm' : size));\r\n        }\r\n        if(prefix){\r\n            cName.push('mt-input-prefix-out');\r\n        }\r\n        if(suffix){\r\n            cName.push('mt-input-suffix-out');\r\n        }\r\n        if(disabled){\r\n            cName.push('mt-input-disabled');\r\n        }\r\n\r\n        let obj = {};\r\n        if(value !== undefined){\r\n            obj.value = value;\r\n        }\r\n        if(defaultValue !== undefined){\r\n            obj.defaultValue = defaultValue;\r\n        }\r\n\r\n        let style = {};\r\n        if(block){\r\n            style = {\r\n                display: 'block'\r\n            };\r\n        }\r\n\r\n        return (\r\n            <span style={style} className={cName.join(' ')}>\r\n                {prefix ? <span className=\"mt-input-prefix\">{prefix}</span> : null}\r\n                <input disabled={disabled} {...obj} {...other} onChange={this.onChange.bind(this)}/>\r\n                {suffix ? <span className=\"mt-input-suffix\">{suffix}</span> : null}\r\n                {validateInfo}\r\n            </span>\r\n        );\r\n    }\r\n}\r\n\r\n// 主页\r\nexport default Input;"]}