{"version":3,"sources":["../../dev/mtui/slider/Slider.jsx"],"names":["Slider","props","state","barWidth","startX","oldWid","e","pageX","self","updo","document","removeEventListener","mouseMove","sliderEnd","getValue","minValue","wid","width","setState","onChange","addEventListener","val","maxValue","defaultValue","sliderStart","size","className","other","cName","push","join","onMouseDown","bind","defaultProps"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;;;IAEMA,M;;;AACL;AACA,iBAAaC,KAAb,EAAoB;AAAA;;AAAA,oIACbA,KADa;;AAEnB,QAAKC,KAAL,GAAa;AACZC,aAAU;AADE,GAAb;AAGA,QAAKC,MAAL,GAAc,CAAd;AACA,QAAKC,MAAL,GAAc,CAAd;AANmB;AAOnB;;;;8BASWC,C,EAAE;AACb,QAAKF,MAAL,GAAcE,EAAEC,KAAhB;AACA,QAAKF,MAAL,GAAc,KAAKH,KAAL,CAAWC,QAAzB;;AAEA,OAAIK,OAAO,IAAX;AACA,OAAIC,OAAO,SAAPA,IAAO,CAASH,CAAT,EAAW;AACrBI,aAASC,mBAAT,CAA6B,WAA7B,EAAyCC,SAAzC;AACAF,aAASC,mBAAT,CAA6B,SAA7B,EAAuCF,IAAvC;;AAEA,QAAGD,KAAKP,KAAL,CAAWY,SAAd,EAAwB;AACvBL,UAAKP,KAAL,CAAWY,SAAX,CAAqBL,KAAKM,QAAL,KAAkBN,KAAKP,KAAL,CAAWc,QAAlD;AACA;AAED,IARD;;AAUA;AACA,OAAIH,YAAY,SAAZA,SAAY,CAASN,CAAT,EAAW;AAC1B,QAAIU,MAAMR,KAAKH,MAAL,GAAcC,EAAEC,KAAhB,GAAwBC,KAAKJ,MAAvC;;AAEA,QAAGY,MAAMR,KAAKP,KAAL,CAAWgB,KAApB,EAA0B;AACzBD,WAAMR,KAAKP,KAAL,CAAWgB,KAAjB;AACA,KAFD,MAEM,IAAGD,MAAM,CAAT,EAAW;AAChBA,WAAM,CAAN;AACA;AACD,QAAGA,OAAOR,KAAKP,KAAL,CAAWgB,KAAlB,IAA2BD,OAAO,CAArC,EAAuC;AACtCR,UAAKU,QAAL,CAAc;AACbf,gBAAUa;AADG,MAAd,EAEE,YAAU;AACX,UAAGR,KAAKP,KAAL,CAAWkB,QAAd,EAAuB;AACtBX,YAAKP,KAAL,CAAWkB,QAAX,CAAoBX,KAAKM,QAAL,KAAkBN,KAAKP,KAAL,CAAWc,QAAjD;AACA;AACD,MAND;AAOA;AACD,IAjBD;;AAmBAL,YAASU,gBAAT,CAA0B,WAA1B,EAAsCR,SAAtC;AACAF,YAASU,gBAAT,CAA0B,SAA1B,EAAoCX,IAApC;AACA;;AAED;;;;6BACU;AACT,OAAIY,MAAO,KAAKnB,KAAL,CAAWC,QAAX,GAAoB,KAAKF,KAAL,CAAWgB,KAAhC,IAAwC,KAAKhB,KAAL,CAAWqB,QAAX,GAAsB,KAAKrB,KAAL,CAAWc,QAAzE,CAAV;AACA,UAAOM,GAAP;AACA;;;uCAEoB;AACpB,OAAIA,MAAM,KAAKpB,KAAL,CAAWsB,YAAX,IAAyB,KAAKtB,KAAL,CAAWqB,QAAX,GAAsB,KAAKrB,KAAL,CAAWc,QAA1D,IAAsE,KAAKd,KAAL,CAAWgB,KAA3F;AACA,OAAG,KAAKhB,KAAL,CAAWuB,WAAd,EAA0B;AACzB,SAAKvB,KAAL,CAAWuB,WAAX,CAAuB,KAAKvB,KAAL,CAAWsB,YAAlC;AACA;AACD,QAAKL,QAAL,CAAc;AACbf,cAAUkB;AADG,IAAd;AAGA;;;2BAEO;AAAA,gBACuE,KAAKpB,KAD5E;AAAA,OACAwB,IADA,UACAA,IADA;AAAA,OACKC,SADL,UACKA,SADL;AAAA,OACeJ,QADf,UACeA,QADf;AAAA,OACwBP,QADxB,UACwBA,QADxB;AAAA,OACiCE,KADjC,UACiCA,KADjC;AAAA,OACuCE,QADvC,UACuCA,QADvC;AAAA,OACgDN,SADhD,UACgDA,SADhD;AAAA,OAC8Dc,KAD9D;;AAEP,OAAIC,QAAQ,CAAC,WAAD,EAAa,UAAb,CAAZ;AACA,OAAGF,SAAH,EAAa;AACZE,UAAMC,IAAN,CAAWH,SAAX;AACA;AACD,OAAGD,IAAH,EAAQ;AACPG,UAAMC,IAAN,CAAW,eAAaJ,IAAxB;AACA;AACD,UACO;AAAA;AAAA,+BAASE,KAAT,IAAgB,OAAO,EAACV,OAAMA,KAAP,EAAvB,EAAsC,WAAWW,MAAME,IAAN,CAAW,GAAX,CAAjD;AACC;AAAA;AAAA,OAAK,WAAU,eAAf,EAA+B,KAAI,KAAnC,EAAyC,OAAO,EAACb,OAAM,KAAKf,KAAL,CAAWC,QAAlB,EAAhD;AACC,0CAAG,aAAa,KAAK4B,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAhB,EAA6C,WAAU,eAAvD;AADD;AADD,IADP;AAOA;;;;;AAGF;;;AA5FMhC,M,CAWEiC,Y,GAAe;AACrBR,OAAM,IADe,EACT;AACZH,WAAU,GAFW;AAGrBP,WAAU,CAHW;AAIrBE,QAAO;AAJc,C;eAkFRjB,M;;;;;;;;;+BA7FTA,M","file":"Slider.js","sourcesContent":["'use strict';\r\nimport React, { Component } from 'react';\r\n\r\nclass Slider extends Component {\r\n\t//构造函数\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tbarWidth: 0\r\n\t\t}\r\n\t\tthis.startX = 0;\r\n\t\tthis.oldWid = 0;\r\n\t}\r\n\r\n\tstatic defaultProps = {\r\n\t\tsize: 'nm', //lg , nm, sm, xs 大 ，正常，小，超小\r\n\t\tmaxValue: 100,\r\n\t\tminValue: 0,\r\n\t\twidth: 100\r\n\t}\r\n\r\n\tonMouseDown(e){\r\n\t\tthis.startX = e.pageX;\r\n\t\tthis.oldWid = this.state.barWidth\r\n\r\n\t\tlet self = this;\r\n\t\tlet updo = function(e){\r\n\t\t\tdocument.removeEventListener('mousemove',mouseMove);\r\n\t\t\tdocument.removeEventListener('mouseup',updo);\r\n\r\n\t\t\tif(self.props.sliderEnd){\r\n\t\t\t\tself.props.sliderEnd(self.getValue() + self.props.minValue);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//鼠标移动\r\n\t\tlet mouseMove = function(e){\r\n\t\t\tlet wid = self.oldWid + e.pageX - self.startX;\r\n\r\n\t\t\tif(wid > self.props.width){\r\n\t\t\t\twid = self.props.width\r\n\t\t\t}else if(wid < 0){\r\n\t\t\t\twid = 0;\r\n\t\t\t}\r\n\t\t\tif(wid <= self.props.width && wid >= 0){\r\n\t\t\t\tself.setState({\r\n\t\t\t\t\tbarWidth: wid\r\n\t\t\t\t},function(){\r\n\t\t\t\t\tif(self.props.onChange){\r\n\t\t\t\t\t\tself.props.onChange(self.getValue() + self.props.minValue)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener('mousemove',mouseMove)\r\n\t\tdocument.addEventListener('mouseup',updo)\r\n\t}\r\n\r\n\t//获取当前值\r\n\tgetValue(){\r\n\t\tlet val = (this.state.barWidth/this.props.width)*(this.props.maxValue - this.props.minValue)\r\n\t\treturn val;\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tlet val = this.props.defaultValue/(this.props.maxValue + this.props.minValue) * this.props.width;\r\n\t\tif(this.props.sliderStart){\r\n\t\t\tthis.props.sliderStart(this.props.defaultValue)\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tbarWidth: val\r\n\t\t})\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst {size,className,maxValue,minValue,width,onChange,sliderEnd, ...other} = this.props;\r\n\t\tlet cName = ['mt-slider','clearfix'];\r\n\t\tif(className){\r\n\t\t\tcName.push(className)\r\n\t\t}\r\n\t\tif(size){\r\n\t\t\tcName.push('mt-slider-'+size)\r\n\t\t}\r\n\t\treturn (\r\n\t        <div {...other} style={{width:width}} className={cName.join(' ')}>\r\n\t        \t<div className=\"mt-slider-bar\" ref=\"bar\" style={{width:this.state.barWidth}}>\r\n\t        \t\t<a onMouseDown={this.onMouseDown.bind(this)} className=\"mt-slider-btn\"></a>\r\n\t        \t</div>\r\n\t        </div>\r\n\t    );\r\n\t}\r\n}\r\n\r\n//主页\r\nexport default Slider;"]}